<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Selecciona tu Rango de Inversi贸n</title>

    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background: #f3f3f3;
            padding: 40px;
        }

        table {
            margin: 20px auto;
            border-collapse: collapse;
        }

        td {
            padding: 10px;
        }

        .michi-img {
            width: 180px;
            height: 180px;
            border-radius: 10px;
            transition: transform 0.3s;
        }

        .michi-img:hover {
            transform: scale(1.05);
        }

        .nombre {
            font-size: 18px;
            margin-top: 8px;
            font-weight: bold;
        }

        #boton {
            background: #ff0055;
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 20px;
            cursor: pointer;
            margin-top: 25px;
        }

        #boton:disabled {
            background: #999;
            cursor: not-allowed;
        }

        #mensaje {
            margin-top: 20px;
            font-size: 18px;
            color: #444;
        }

        /* Animaci贸n de selecci贸n */
        .destacado {
            outline: 6px solid #ff0055;
            transform: scale(1.15) !important;
            transition: transform 0.4s, outline 0.4s;
        }
    </style>
</head>

<body>

    <h1>Elige tu destino Michi </h1>

    <!-- TABLA 2x2 -->
    <table>
        <tr>
            <td>
                <img id="img0" class="michi-img" src="deidad.png">
                <div class="nombre">Michi Deidad</div>
            </td>
            <td>
                <img id="img1" class="michi-img" src="magnate.png">
                <div class="nombre">Michi Magnate</div>
            </td>
        </tr>
        <tr>
            <td>
                <img id="img2" class="michi-img" src="aristocrata.png">
                <div class="nombre">Michi Arist贸crata</div>
            </td>
            <td>
                <img id="img3" class="michi-img" src="oficinista.png">
                <div class="nombre">Michi Oficinista</div>
            </td>
        </tr>
    </table>

    <button id="boton">Jugar</button>
    <div id="mensaje"></div>

    <script>
        const boton = document.getElementById("boton");
        const mensaje = document.getElementById("mensaje");

        const imagenes = [
            document.getElementById("img0"),
            document.getElementById("img1"),
            document.getElementById("img2"),
            document.getElementById("img3"),
        ];

        // ----------------------------
        // SISTEMA DE BLOQUEO
        // ----------------------------
        let fechaRegistro = localStorage.getItem("primer_ingreso");

        if (!fechaRegistro) {
            fechaRegistro = new Date().toLocaleString();
            localStorage.setItem("primer_ingreso", fechaRegistro);
        } else {
            boton.textContent = "Tu oportunidad expir贸";
            boton.disabled = true;
            mensaje.textContent = "Tu oportunidad expir贸 en: " + fechaRegistro;
        }

        // ----------------------------
        // SELECCIN ALEATORIA
        // ----------------------------
        boton.addEventListener("click", () => {
            if (boton.disabled) return;

            // limpiar efectos previos
            imagenes.forEach(img => img.classList.remove("destacado"));

            // elegir imagen al azar
            const ganador = Math.floor(Math.random() * 4);

            // animaci贸n tipo "ruleta"
            let pasos = 10 + Math.floor(Math.random() * 10);
            let actual = 0;
            let intervalo = 120;

            let loop = setInterval(() => {
                imagenes.forEach(img => img.classList.remove("destacado"));
                imagenes[actual % 4].classList.add("destacado");

                actual++;
                pasos--;

                if (pasos <= 0) {
                    clearInterval(loop);
                    imagenes[ganador].classList.add("destacado");

                    // bloquear para siempre
                    boton.textContent = "Tu oportunidad expir贸";
                    boton.disabled = true;
                    mensaje.textContent = "Tu oportunidad expir贸 en: " + fechaRegistro;
                }
            }, intervalo);
        });
    </script>

</body>
</html>
