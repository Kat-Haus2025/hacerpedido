<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ruleta Kat-Haus</title>

<style>
  body {
    background: #eaeaea;
    text-align: center;
    font-family: sans-serif;
  }

  h1 {
    margin-top: 20px;
  }

  .ruleta-container {
    position: relative;
    width: 300px;
    margin: 40px auto;
  }

  #ruleta {
    width: 100%;
    transition: transform 4s cubic-bezier(0.1, 0.8, 0.3, 1);
    transform-origin: 50% 50%;
  }

  /* Tri√°ngulo marcador en posici√≥n 11:55 */
  .marcador {
    position: absolute;
    top: -10px;
    left: 50%;
    transform: translateX(-50%) rotate(-20deg);
    width: 0;
    height: 0;
    border-left: 14px solid transparent;
    border-right: 14px solid transparent;
    border-bottom: 22px solid #e63946;
    z-index: 10;
  }

  button {
    padding: 10px 20px;
    font-size: 18px;
    cursor: pointer;
    background: #1d3557;
    color: white;
    border: none;
    border-radius: 8px;
  }

  button:hover {
    background: #457b9d;
  }

  #resultado {
    margin-top: 20px;
    font-size: 22px;
    font-weight: bold;
  }
</style>
</head>

<body>

<h1>Ruleta Kat-Haus</h1>

<div class="ruleta-container">
  <div class="marcador"></div>
  <img id="ruleta" src="ruleta.png" alt="Ruleta">
</div>

<button id="btn">Jugar</button>

<div id="resultado"></div>

<script>
const premios = [
  "Premio 1",
  "Premio 2",
  "Premio 3",
  "Premio 4",
  "Premio 5"
];

const ruleta = document.getElementById("ruleta");
const boton = document.getElementById("btn");
const resultado = document.getElementById("resultado");

let anguloActual = 0;

// La ruleta est√° dividida en 5 ‚Üí 360/5 = 72 grados por premio
const SEGMENTO = 72;

// tri√°ngulo a las 11:55 ‚Üí offset de √°ngulo para que coincida
// Ajuste fino para la posici√≥n exacta:
const OFFSET = -20;

boton.addEventListener("click", () => {
  boton.disabled = true;
  resultado.textContent = "";

  const vueltas = 360 * 5; // 5 vueltas completas
  const extra = Math.floor(Math.random() * 360); // parada aleatoria

  const anguloFinal = anguloActual + vueltas + extra;

  ruleta.style.transform = `rotate(${anguloFinal}deg)`;

  anguloActual = anguloFinal;

  setTimeout(() => {
    // Hallar d√≥nde cay√≥ la ruleta
    let angulo = (anguloFinal + OFFSET) % 360;
    if (angulo < 0) angulo += 360;

    const indice = Math.floor(angulo / SEGMENTO);

    resultado.textContent = "üéâ Ganaste: " + premios[indice];

    boton.disabled = false;
  }, 4000);
});
</script>

</body>
</html>
